# Generated by ansible
#	$OpenBSD: sshd_config,v 1.82 2010/09/06 17:10:19 naddy Exp $
#	$FreeBSD: release/9.1.0/crypto/openssh/sshd_config 224638 2011-08-03 19:14:22Z brooks $

# This is the sshd server system-wide configuration file.  See
# sshd_config(5) for more information.

VersionAddendum perceivon

Port {{ config.host.sshd_port }}
ListenAddress {{ internal_ip }}
ListenAddress {{ ansible_default_ipv4.address }}
{% if 'address' in ansible_default_ipv6 %}
ListenAddress {{ ansible_default_ipv6.address }}
{% endif %}

PermitRootLogin no
MaxAuthTries 2

PasswordAuthentication no
ChallengeResponseAuthentication no
PermitEmptyPasswords no
PubkeyAuthentication yes

KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256
Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr
MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-ripemd160-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512,hmac-sha2-256,hmac-ripemd160,umac-128@openssh.com

Subsystem	sftp	internal-sftp
